{"version":3,"sources":["webpack:///./src/views/goods-list.vue?f0ba","webpack:///./src/api/goods.js","webpack:///./src/views/add-goods.vue?abac","webpack:///./src/views/roles.vue?3e35","webpack:///src/views/roles.vue","webpack:///./src/views/roles.vue?98c3","webpack:///./src/views/roles.vue?4eb5","webpack:///src/views/add-goods.vue","webpack:///./src/views/add-goods.vue?f9b7","webpack:///./src/views/add-goods.vue","webpack:///src/views/goods-list.vue","webpack:///./src/views/goods-list.vue?2679","webpack:///./src/views/goods-list.vue","webpack:///./src/views/roles.vue?1221"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","goods","request","attrs","on","fetchData","_v","addNewGood","_m","importFromFile","handleChange","fileList","validateFile","slot","currentPage","pageSize","totalSize","handleSizeChange","handleCurrentChange","staticStyle","list","formateDate","scopedSlots","_u","key","fn","scope","$event","editGood","row","id","askDelete","dialogFormVisible","insertNewGoods","editFormVisible","selectedGoodInfo","dataInit","modifyGoods","staticRenderFns","preUrlPath","p","r","params","instance","post","pageRequest","remove","edit","add_good","importFile","headers","notAllowed","get","ref","ruleForm","rules","model","callback","$$v","$set","submitForm","resetForm","role","requestNotAllowed","deleteRole","data","mixins","myMixin","canReset","loading","methods","util","created","component","checkName","Error","checkEmpty","goodInfo","fruitName","from","fruitFrom","level","fruitLevel","unit","fruitUnit","price","fruitPrice","vip_price","fruitVipPrice","promotion","fruitPrePrice","fruitId","props","computed","isDisabled","$refs","formName","validate","valid","console","log","vm","$loading","resetFields","components","size","page","form","append","file","$message","success","warning","filelist","splice","info","index","goodsId","item","$nextTick","$confirm","confirmButtonText","cancelButtonText","type","deleteGood"],"mappings":"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","file":"js/chunk-2be21cda.da2e7b55.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"operation\"},[_c('el-button',{directives:[{name:\"has\",rawName:\"v-has\",value:([_vm.goods.request]),expression:\"[goods.request]\"}],attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.fetchData}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addNewGood}},[_vm._v(\"新增\")]),_vm._m(0),_c('el-upload',{staticClass:\"upload-goods\",attrs:{\"size\":\"small\",\"action\":\"\",\"http-request\":_vm.importFromFile,\"on-change\":_vm.handleChange,\"file-list\":_vm.fileList,\"before-upload\":_vm.validateFile}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"导入xls\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\" 只能上传xls/xlsx文件 \")])],1)],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalSize},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"fruitId\",\"label\":\"商品编号\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitName\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitLevel\",\"label\":\"等级\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitFrom\",\"label\":\"产地\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitUnit\",\"label\":\"计价单位\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitPrice\",\"label\":\"价格\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitVipPrice\",\"label\":\"会员价格\"}}),_c('el-table-column',{attrs:{\"prop\":\"fruitPrePrice\",\"label\":\"促销信息\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"align\":\"center\",\"width\":\"120\",\"formatter\":_vm.formateDate}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.editGood(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.askDelete(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('br'),_c('el-dialog',{attrs:{\"title\":\"新增商品信息\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('add-goods',{on:{\"insertGoods\":_vm.insertNewGoods}})],1),_c('el-dialog',{attrs:{\"title\":\"编辑商品信息\",\"visible\":_vm.editFormVisible},on:{\"update:visible\":function($event){_vm.editFormVisible=$event}}},[_c('add-goods',{attrs:{\"goodInfo\":_vm.selectedGoodInfo,\"dataInit\":_vm.dataInit},on:{\"modifyGoods\":_vm.modifyGoods}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br')])}]\n\nexport { render, staticRenderFns }","import instance from './index';\nconst preUrlPath = 'adminFruit';\n//商品列表\nconst request = {\n  p: ['post,/goods'],\n  r: params => {\n    return instance.post(`${preUrlPath}/list`, params)\n  }\n};\n\nconst pageRequest = {\n  p: ['post,/goods'],\n  r: params => {\n    return instance.post(`${preUrlPath}/page`, params)\n  }\n};\n//删除商品\nconst remove = {\n  p: ['post,/goods/**'],\n  r: params => {\n    return instance.post(`${preUrlPath}/delete`, params)\n  }\n};\n\nconst edit = {\n  p: ['post,/goods/**'],\n  r: params => {\n    return instance.post(`${preUrlPath}/update`, params)\n  }\n}\nconst add_good = {\n  p: ['post,/goods/**'],\n  r: params => {\n    return instance.post(`${preUrlPath}/add`, params)\n  }\n}\n\nconst importFile = {\n  p: ['post,/goods/**'],\n  r: params => {\n    return instance.post(`${preUrlPath}/importExcel`, params, {\n      headers: {\n        post: {\n          \"Content-Type\": \"multipart/form-data\",\n        }\n      }\n    })\n  }\n}\n\n//越权请求\nconst notAllowed = {\n  p: ['get,/roles/notAllowed'],\n  r: params => {\n    return instance.get(`${preUrlPath}/roles/notAllowed`, { params })\n  }\n}\n\nexport {\n  request,\n  pageRequest,\n  remove,\n  edit,\n  add_good,\n  importFile,\n  notAllowed\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"编号\",\"prop\":\"fruitId\"}},[_c('el-input',{model:{value:(_vm.ruleForm.fruitId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"fruitId\", $$v)},expression:\"ruleForm.fruitId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"产地\",\"prop\":\"from\"}},[_c('el-input',{model:{value:(_vm.ruleForm.from),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"from\", $$v)},expression:\"ruleForm.from\"}})],1),_c('el-form-item',{attrs:{\"label\":\"等级\",\"prop\":\"level\"}},[_c('el-input',{model:{value:(_vm.ruleForm.level),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"level\", $$v)},expression:\"ruleForm.level\"}})],1),_c('el-form-item',{attrs:{\"label\":\"计价单位\",\"prop\":\"unit\"}},[_c('el-input',{model:{value:(_vm.ruleForm.unit),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"unit\", $$v)},expression:\"ruleForm.unit\"}})],1),_c('el-form-item',{attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{model:{value:(_vm.ruleForm.price),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"price\", $$v)},expression:\"ruleForm.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"会员价格\",\"prop\":\"vip-price\"}},[_c('el-input',{model:{value:(_vm.ruleForm.vip_price),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"vip_price\", $$v)},expression:\"ruleForm.vip_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"促销信息\",\"prop\":\"promot\"}},[_c('el-input',{model:{value:(_vm.ruleForm.promotion),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"promotion\", $$v)},expression:\"ruleForm.promotion\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"operation\"},[_c('el-button',{directives:[{name:\"has\",rawName:\"v-has\",value:([_vm.role.request]),expression:\"[role.request]\"}],attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.fetchData}},[_vm._v(\"查询\")]),_c('el-button',{directives:[{name:\"has\",rawName:\"v-has\",value:([_vm.role.remove]),expression:\"[role.remove]\"}],attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.requestNotAllowed}},[_vm._v(\"尝试发起越权请求\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"timestamp\",\"label\":\"创建时间\",\"formatter\":_vm.formateDate}}),_c('el-table-column',{attrs:{\"prop\":\"summary\",\"label\":\"备注\",\"show-overflow-tooltip\":true}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\"}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteRole(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.extendGroup {\n  float: right;\n  margin-right: 20px;\n  opacity: 0;\n}\n\n.el-tree-node__content:hover .extendGroup {\n  opacity: 1;\n}\n</style>\n\n<template>\n  <div v-loading=\"loading\">\n    <!-- 操作 -->\n    <div class=\"operation\">\n      <el-button\n        size=\"small\"\n        type=\"primary\"\n        v-has=\"[role.request]\"\n        @click=\"fetchData\"\n        >查询</el-button\n      >\n      <el-button size=\"small\" type=\"danger\" v-has=\"[role.remove]\"\n        >删除</el-button\n      >\n      <!-- <el-button size=\"small\" v-if=\"$_has([role.request]) && canReset\"\n        >重置</el-button\n      > -->\n      <el-button size=\"small\" type=\"info\" @click=\"requestNotAllowed\"\n        >尝试发起越权请求</el-button\n      >\n    </div>\n    <!-- table start  -->\n    <el-table :data=\"list\" border style=\"width: 100%\">\n      <el-table-column prop=\"name\" label=\"名称\" width=\"120\"> </el-table-column>\n      <el-table-column\n        prop=\"timestamp\"\n        label=\"创建时间\"\n        :formatter=\"formateDate\"\n      >\n      </el-table-column>\n      <el-table-column\n        prop=\"summary\"\n        label=\"备注\"\n        :show-overflow-tooltip=\"true\"\n      >\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"150\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"info\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteRole(scope.row.id)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- table end  -->\n  </div>\n</template>\n\n<script>\nimport * as role from \"../api/role\";\nimport * as util from \"../assets/util.js\";\n\nlet myMixin = {\n  data: function() {\n    return { role };\n  },\n};\n\nexport default {\n  mixins: [myMixin],\n  data() {\n    return {\n      list: [],\n      canReset: true,\n      loading: false,\n    };\n  },\n  methods: {\n    fetchData() {\n      this.loading = true;\n      role.request.r().then((res) => {\n        this.list = res.data.content;\n        this.loading = false;\n      });\n    },\n\n    deleteRole(rid) {\n      this.loading = true;\n      role.remove\n        .r({ id: rid })\n        .then((res) => {\n          this.loading = false;\n          alert(res.data);\n        })\n        .catch((err) => {\n          this.loading = false;\n        });\n    },\n\n    requestNotAllowed: function() {\n      role.notAllowed.r();\n    },\n\n    formateDate(row, col, value, index) {\n      return util.formatDate(value, \"MM/dd hh:mm\");\n    },\n  },\n  created() {\n    this.fetchData();\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=ca20a54e&scoped=true&\"\nimport script from \"./roles.vue?vue&type=script&lang=js&\"\nexport * from \"./roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roles.vue?vue&type=style&index=0&id=ca20a54e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca20a54e\",\n  null\n  \n)\n\nexport default component.exports","<style scoped></style>\n\n<template>\n  <el-form\n    :model=\"ruleForm\"\n    status-icon\n    :rules=\"rules\"\n    ref=\"ruleForm\"\n    label-width=\"100px\"\n    class=\"demo-ruleForm\"\n    size=\"small\"\n  >\n    <el-form-item label=\"编号\" prop=\"fruitId\">\n      <el-input v-model=\"ruleForm.fruitId\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"名称\" prop=\"name\">\n      <el-input v-model=\"ruleForm.name\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"产地\" prop=\"from\">\n      <el-input v-model=\"ruleForm.from\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"等级\" prop=\"level\">\n      <el-input v-model=\"ruleForm.level\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"计价单位\" prop=\"unit\">\n      <el-input v-model=\"ruleForm.unit\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"价格\" prop=\"price\">\n      <el-input v-model=\"ruleForm.price\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"会员价格\" prop=\"vip-price\">\n      <el-input v-model=\"ruleForm.vip_price\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"促销信息\" prop=\"promot\">\n      <el-input v-model=\"ruleForm.promotion\"></el-input>\n    </el-form-item>\n\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n      <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport * as account from \"../api/goods\";\nimport { catchError } from \"../assets/util\";\nimport rolesVue from \"./roles.vue\";\n\nexport default {\n  data() {\n    var checkName = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"商品名不能为空\"));\n      }\n      callback();\n    };\n\n    var checkEmpty = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"此项不能为空\"));\n      }\n      callback();\n    };\n\n    return {\n      ruleForm: {\n        name: this.goodInfo ? this.goodInfo.fruitName : \"\",\n        from: this.goodInfo ? this.goodInfo.fruitFrom : \"\",\n        level: this.goodInfo ? this.goodInfo.fruitLevel : \"\",\n        unit: this.goodInfo ? this.goodInfo.fruitUnit : \"\",\n        price: this.goodInfo ? this.goodInfo.fruitPrice : \"\",\n        vip_price: this.goodInfo ? this.goodInfo.fruitVipPrice : \"\",\n        promotion: this.goodInfo ? this.goodInfo.fruitPrePrice : \"\",\n        fruitId: this.goodInfo ? this.goodInfo.fruitId : \"\",\n      },\n      rules: {\n        name: [{ validator: checkName, trigger: \"blur\" }],\n        fruitId: [{ validator: checkEmpty, trigger: \"blur\" }],\n        from: [{ validator: checkEmpty, trigger: \"blur\" }],\n        level: [{ validator: checkEmpty, trigger: \"blur\" }],\n      },\n    };\n  },\n\n  props: [\"goodInfo\", \"dataInit\"],\n\n  computed: {\n    isDisabled() {\n      //   alert(this.adminInfo.name);\n      this.ruleForm = {\n        name: this.goodInfo ? this.goodInfo.fruitName : \"\",\n        from: this.goodInfo ? this.goodInfo.fruitFrom : \"\",\n        level: this.goodInfo ? this.goodInfo.fruitLevel : \"\",\n        unit: this.goodInfo ? this.goodInfo.fruitUnit : \"\",\n        price: this.goodInfo ? this.goodInfo.fruitPrice : \"\",\n        vip_price: this.goodInfo ? this.goodInfo.fruitVipPrice : \"\",\n        promotion: this.goodInfo ? this.goodInfo.fruitPrePrice : \"\",\n        fruitId: this.goodInfo ? this.goodInfo.fruitId : \"\",\n      };\n      if (this.goodInfo) return 1;\n      return 0;\n    },\n  },\n\n  methods: {\n    submitForm(formName) {\n      let vm = this;\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          //   alert(\"submit!\");\n          vm.$loading = true;\n          if (this.goodInfo) {\n            //edit api\n            account.edit\n              .r({\n                fruitName: this.ruleForm.name,\n                fruitFrom: this.ruleForm.from,\n                fruitLevel: this.ruleForm.level,\n                fruitPrice: this.ruleForm.price,\n                fruitVipPrice: this.ruleForm.vip_price,\n                fruitPrePrice: this.ruleForm.promotion,\n                fruitUnit: this.ruleForm.unit,\n                fruitId: this.ruleForm.fruitId,\n                id: this.goodInfo.id,\n              })\n              .then((resp) => {\n                this.$message.success(\"信息修改成功\");\n                vm.$loading = false;\n                vm.goodInfo.fruitName = vm.ruleForm.name;\n                vm.goodInfo.fruitFrom = vm.ruleForm.from;\n                vm.goodInfo.fruitLevel = vm.ruleForm.level;\n                vm.goodInfo.fruitPrice = vm.ruleForm.price;\n                vm.goodInfo.fruitVipPrice = vm.ruleForm.vip_price;\n                vm.goodInfo.fruitPrePrice = vm.ruleForm.promotion;\n                vm.goodInfo.fruitUnit = vm.ruleForm.unit;\n                vm.goodInfo.fruitId = vm.ruleForm.fruitId;\n\n                this.$emit(\"modifyGoods\", vm.goodInfo);\n              }, catchError);\n          } else {\n            account.add_good\n              .r({\n                fruitName: this.ruleForm.name,\n                fruitFrom: this.ruleForm.from,\n                fruitLevel: this.ruleForm.level,\n                fruitPrice: this.ruleForm.price,\n                fruitVipPrice: this.ruleForm.vip_price,\n                fruitPrePrice: this.ruleForm.promotion,\n                fruitUnit: this.ruleForm.unit,\n                fruitId: this.ruleForm.fruitId,\n              })\n              .then((resp) => {\n                this.$message.success(\"添加成功\");\n                this.$loading = false;\n                this.$refs[formName].resetFields();\n\n                this.$emit(\"insertGoods\", resp.data.result);\n              }, catchError);\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-goods.vue?vue&type=template&id=0dd9062c&scoped=true&\"\nimport script from \"./add-goods.vue?vue&type=script&lang=js&\"\nexport * from \"./add-goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dd9062c\",\n  null\n  \n)\n\nexport default component.exports","<style scoped></style>\n\n<template>\n  <div v-loading=\"loading\">\n    <!-- 操作 -->\n    <div class=\"operation\">\n      <el-button\n        size=\"small\"\n        type=\"primary\"\n        v-has=\"[goods.request]\"\n        @click=\"fetchData\"\n        >查询</el-button\n      >\n      <el-button size=\"small\" type=\"primary\" @click=\"addNewGood\"\n        >新增</el-button\n      >\n\n      <!-- <el-button size=\"small\" type=\"primary\" @click=\"importFromFile\"\n        >导入xls</el-button\n      > -->\n      <div><br /></div>\n      <el-upload\n        size=\"small\"\n        class=\"upload-goods\"\n        action\n        :http-request=\"importFromFile\"\n        :on-change=\"handleChange\"\n        :file-list=\"fileList\"\n        :before-upload=\"validateFile\"\n      >\n        <el-button size=\"small\" type=\"primary\">导入xls</el-button>\n        <div slot=\"tip\" class=\"el-upload__tip\">\n          只能上传xls/xlsx文件\n        </div>\n      </el-upload>\n\n      <!-- <el-button size=\"small\" v-if=\"$_has([goods.request]) && canReset\">重置</el-button> -->\n      <!-- <el-button size=\"small\" type=\"info\" @click=\"requestNotAllowed\">尝试发起越权请求</el-button> -->\n    </div>\n\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[10, 20, 30, 50]\"\n      :page-size=\"pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"totalSize\"\n    >\n    </el-pagination>\n    <!-- list -->\n    <el-table :data=\"list\" border style=\"width: 100%\">\n      <el-table-column prop=\"fruitId\" label=\"商品编号\" width=\"120\">\n      </el-table-column>\n      <el-table-column prop=\"fruitName\" label=\"商品名称\"> </el-table-column>\n      <!-- <el-table-column prop=\"pinyin\" label=\"拼音识别码\"> -->\n      <!-- </el-table-column> -->\n      <!-- <el-table-column prop=\"barcode\" label=\"条形码\"> -->\n      <!-- </el-table-column> -->\n      <el-table-column prop=\"fruitLevel\" label=\"等级\" width=\"60\">\n      </el-table-column>\n      <el-table-column prop=\"fruitFrom\" label=\"产地\"> </el-table-column>\n      <el-table-column prop=\"fruitUnit\" label=\"计价单位\"> </el-table-column>\n      <el-table-column prop=\"fruitPrice\" label=\"价格\"> </el-table-column>\n      <el-table-column prop=\"fruitVipPrice\" label=\"会员价格\"> </el-table-column>\n      <el-table-column prop=\"fruitPrePrice\" label=\"促销信息\"> </el-table-column>\n\n      <el-table-column\n        prop=\"createTime\"\n        label=\"创建时间\"\n        align=\"center\"\n        width=\"120\"\n        :formatter=\"formateDate\"\n      ></el-table-column>\n\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"info\" @click=\"editGood(scope.row.id)\"\n            >编辑</el-button\n          >\n\n          <el-button size=\"mini\" type=\"danger\" @click=\"askDelete(scope.row.id)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- table end  -->\n\n    <br />\n\n    <el-dialog title=\"新增商品信息\" :visible.sync=\"dialogFormVisible\">\n      <add-goods v-on:insertGoods=\"insertNewGoods\" />\n    </el-dialog>\n\n    <el-dialog title=\"编辑商品信息\" :visible.sync=\"editFormVisible\">\n      <add-goods\n        :goodInfo=\"selectedGoodInfo\"\n        :dataInit=\"dataInit\"\n        v-on:modifyGoods=\"modifyGoods\"\n      />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport * as goods from \"../api/goods\";\nimport * as util from \"../assets/util\";\nimport addGoods from \"./add-goods.vue\";\n\nlet myMixin = {\n  data: function() {\n    return { goods };\n  },\n};\n\nexport default {\n  components: { addGoods },\n  mixins: [myMixin],\n  data() {\n    return {\n      list: [],\n      currentPage: 1,\n      pageSize: 10,\n      totalSize: 0,\n      loading: false,\n      canReset: false,\n      dialogFormVisible: false,\n      editFormVisible: false,\n      selectedGoodInfo: null,\n      dataInit: false,\n      fileList: [],\n    };\n  },\n  methods: {\n    handleSizeChange(size) {\n      this.pageSize = size;\n      this.fetchData();\n    },\n    handleCurrentChange(page) {\n      this.currentPage = page;\n      this.fetchData();\n    },\n\n    fetchData: function() {\n      let vm = this;\n      // this.totalSize = 10;\n      vm.loading = true;\n      goods.pageRequest\n        .r({ pageNum: vm.currentPage, pageSize: vm.pageSize })\n        .then((res) => {\n          vm.totalSize = parseInt(res.data.result.total);\n          vm.list = res.data.result.data;\n          vm.loading = false;\n        });\n\n      // goods.request.r(vm.queryParam).then((res) => {\n      //   vm.list = res.data.result.reverse();\n      //   vm.loading = false;\n      // });\n    },\n\n    importFromFile(params) {\n      let vm = this;\n      const form = new FormData();\n      form.append(\"file\", params.file);\n      goods.importFile.r(form).then((resp) => {\n        vm.fileList = [];\n        vm.$message.success(\"上传成功\");\n        vm.fetchData();\n      }, util.catchError);\n    },\n\n    validateFile(file) {\n      if (\n        file.type ==\n          \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" ||\n        file.type == \"application/vnd.ms-excel\"\n      ) {\n        return true;\n      }\n      this.$message.warning(\"请上传xls/xlsx类型的文件\");\n      return false;\n    },\n\n    handleChange(file, filelist) {\n      this.fileList = filelist;\n    },\n\n    insertNewGoods(goods) {\n      let vm = this;\n      vm.list.splice(0, 0, goods);\n      vm.dialogFormVisible = false;\n    },\n\n    modifyGoods(goods) {\n      const index = this.list.findIndex((info) => {\n        return info.id == goods.id;\n      });\n      this.list.splice(index, 1, goods);\n      this.editFormVisible = false;\n    },\n\n    requestNotAllowed: function() {\n      goods.notAllowed.r();\n    },\n    formateDate(row, col, value, index) {\n      return util.formatDate(value, \"MM/dd hh:mm\");\n    },\n    addNewGood() {\n      this.dialogFormVisible = true;\n    },\n\n    editGood(goodsId) {\n      const item = this.list.find((info) => {\n        return info.id == goodsId;\n      });\n      this.dataInit = false;\n      this.selectedGoodInfo = item;\n      this.editFormVisible = true;\n      let vm = this;\n      this.$nextTick(() => {\n        vm.dataInit = true;\n      });\n    },\n\n    askDelete(item) {\n      let vm = this;\n      vm.$confirm(\"确定删除?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"info\",\n      })\n        .then(() => {\n          vm.deleteGood(item);\n        })\n        .catch(() => {});\n    },\n    deleteGood(item) {\n      let vm = this;\n      vm.$loading = true;\n      goods.remove.r({ id: item }).then((resp) => {\n        vm.$loading = false;\n        const index = vm.list.findIndex((info) => {\n          return info.id == item;\n        });\n        vm.list.splice(index, 1);\n        vm.$message.success(\"删除成功\");\n      }, util.catchError);\n    },\n  },\n  created() {\n    this.fetchData();\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goods-list.vue?vue&type=template&id=0b084b26&scoped=true&\"\nimport script from \"./goods-list.vue?vue&type=script&lang=js&\"\nexport * from \"./goods-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b084b26\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=ca20a54e&scoped=true&lang=css&\""],"sourceRoot":""}